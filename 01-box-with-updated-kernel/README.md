#ДЗ 1. 

##1. Обновление ядра из репозитория

//TODO

##2. **Обновление ядра из исходных кодов с подключением общей с хостом директории

Используем за основу материалы из репозитория (вставить репу из отуса)
Используемая версия виртуалбокс - 6.1.6, будем ставить ядро версии 5.4.41
Версия вагранта - 2.2.7
Для работы с шаренными папками потребуется плагин, ставим его командой
```
vagrant plugin install vagrant-vbguest
```
Как вариант, можно воспользоваться монтированием из основного интерфейса виртуалбокс, но это требует добавления дополнительных устройств в вагрантфайл, поэтому научитсья работать с плагином предпочтительнее

Клонируем репозиторий к себе, заходим в папку, запускаем виртуалку
```
cd /usr/src/
sudo su
curl -O https://cdn.kernel.org/pub/linux/kernel/v5.x/linux-5.4.41.tar.xz
tar xvf linux-5.4.41.tar.xz
cd linux-5.4.41
```

Устанавливаем пакеты, требуемые для компиляции
```
yum groupinstall -y "Development Tools"
yum install -y ncurses-devel openssl-devel bc elfutils-libelf-devel

#Compile
yes "" | make oldconfig
make -j4

#Install
make modules_install install
make clean 
```_

В конце будут скомпилированы модули ядра для гостевых дополнений, за исключением модуля для X.org
Проверяем, 
```
#Update boot record
rm -rf /boot/*3.10*
grub2-mkconfig -o /boot/grub2/grub.cfg
grub2-set-default 0
poweroff
```

После выключения виртуалки вновь поднимаем ее с vagrant up, проверяем версию ядра с uname -r, проверяем, на месте ли все модули (lsmod | grep vbox), и если все ок - меняем вагрантфайл для работы с шаренными папками. Я создал для этого отдельную папку, чтобы не тащить в виртуалку весь мусор с хоста.
```
config.vm.synced_folder "shared", "/vagrant", type:"virtualbox", create: true
```
Далее делаем vagrant reload и проверяем работу шары.

###Создание вагрант-бокса

